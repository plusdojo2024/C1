/*REPLIES 初期表示*/
SELECT * FROM CONTRIBUTIONS;
SELECT * FROM REPLIES;
SELECT * FROM STARS;


 /* 返信ページの下の返信を表示する用テーブル */
SELECT R.*, U.user_name FROM (SELECT * FROM REPLIES WHERE contribution_id = 1) AS R
INNER JOIN USERS AS U
ON R.user_id = U.user_id;

/* 返信ページの上の投稿表示用テーブル */
SELECT C.user_id, C.rikishi_id, C.id, U.icon,U.user_name, C.pic_movie, C.text, S.user_id star  
FROM (SELECT * FROM CONTRIBUTIONS WHERE id = 1) AS C 
LEFT JOIN USERS U
ON U.user_id = C.user_id
LEFT JOIN (SELECT * FROM STARS WHERE user_id = 'saku') AS S 
ON C.ID = S.CONTRIBUTION_ID;

/*REPLIES 返信の投稿(REPLIESテーブル)*/
INSERT INTO  REPLIES VALUES (NULL,?,?,?,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP);


/*REPLIES 白星登録(STARSテーブル)*/
INSERT INTO  STARS VALUES (NULL,?,?,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP);


/*REPLIES 白星削除(STARSテーブル)*/
DELETE FROM STARS
WHERE id=?;
